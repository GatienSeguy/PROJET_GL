@startuml diagramme_classes_UI
!theme plain
skinparam classAttributeIconSize 0
skinparam backgroundColor #FFFFFF
skinparam roundcorner 10

title Diagramme de Classes - Interface Utilisateur (React + Zustand)

package "Frontend React" {
    
    class UseStore <<Zustand Store>> {
        + config: GlobalConfig
        + modelConfig: ModelConfig
        + isTraining: boolean
        + trainingData: EpochLoss[]
        + testingData: FinalPlotData
        + metrics: MetricsResponse
        --
        + startTraining()
        + stopTraining()
        + addTrainingPoint(epoch, loss)
        + setTestingData(data)
        + setMetrics(metrics)
    }

    class App {
        + render()
    }

    class TrainingControl {
        + handleStart()
        + handleStop()
    }

    class TrainingChart {
        + render(lossSeries)
    }

    class TestingChart {
        + render(testingData)
        + zoomXY()
    }

    class ModelSelector {
        + handleModelChange()
    }

    class NetworkArchitecture {
        + renderLayerConfig()
    }

    class TrainingParams {
        + handleParamChange()
    }
    
    class DatasetList {
        + handleSelect()
    }

    class HorizonConfig {
        + handleHorizonChange()
    }

    ' ==== Services API ====
    class trainingAPI <<Service>> {
        + startTraining(config, modelConfig, callbacks)
        + stopTraining()
    }

    class datasetAPI <<Service>> {
        + fetchDataset(payload)
    }

    ' ==== Relations ====
    App *-- TrainingControl
    App *-- TrainingChart
    App *-- TestingChart
    App *-- ModelSelector
    App *-- NetworkArchitecture
    App *-- TrainingParams
    App *-- DatasetList
    App *-- HorizonConfig

    TrainingControl ..> UseStore : reads/writes
    TrainingChart ..> UseStore : reads
    TestingChart ..> UseStore : reads
    ModelSelector ..> UseStore : writes
    
    TrainingControl ..> trainingAPI : calls
    DatasetList ..> datasetAPI : calls
}

note right of UseStore
  Store global (Zustand)
  Centralise l'état de l'application
  et les données de visualisation
end note

@enduml
